!function($){"use strict";if("undefined"!=typeof WdsAudio){function audioActive(){$("#wds_audio_play").show(),$("#wds_audio_pause").hide()}function audioInactive(){$("#wds_audio_play").hide(),$("#wds_audio_pause").show()}var startTime=WdsAudio.audio_start||0,stopTime=WdsAudio.audio_end||null;if("url"==WdsAudio.source){var audioElement=$("#wds-audio-box #song")[0];function toggleAudio(){audioElement.paused?(audioElement.play(),audioActive()):(audioElement.pause(),audioInactive())}audioElement.addEventListener("loadedmetadata",(function(){startTime&&startTime>0&&(audioElement.currentTime=startTime)})),audioElement.addEventListener("timeupdate",(function(){stopTime&&audioElement.currentTime>=stopTime&&(audioElement.currentTime=startTime&&startTime>0?startTime:0)})),audioElement.paused&&audioInactive(),$("#wds_audio_play .elementor-icon, #wds_audio_pause .elementor-icon").on("click",toggleAudio),$(document).on("click","#wds-button-cover, .wds-button-cover",(function(){audioElement.play(),audioActive()})),document.addEventListener("visibilitychange",(function(){document.hidden?(audioElement.pause(),audioInactive()):audioElement.paused&&(audioElement.play(),audioActive())}))}else if("youtube"===WdsAudio.source){function loadYouTubeAPI(){if(!document.getElementById("youtube-iframe-api")){var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api",tag.id="youtube-iframe-api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag)}}var player;loadYouTubeAPI();var playerReady=!1;function toggleAudio(){playerReady&&player?player.getPlayerState()===YT.PlayerState.PLAYING||player.getPlayerState()===YT.PlayerState.BUFFERING?(player.pauseVideo(),audioInactive()):(player.playVideo(),audioActive()):setTimeout(toggleAudio,500)}function onPlayerReady(){playerReady=!0,audioInactive()}function onPlayerStateChange(event){event.data===YT.PlayerState.ENDED&&null!==startTime&&null!==stopTime&&restartVideoSection()}function restartVideoSection(){player.seekTo(startTime)}function extractVideoID(url){var regExp=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,match=url.match(regExp);return match&&11===match[7].length?match[7]:null}window.onYouTubeIframeAPIReady=function(){var ytplay=document.getElementById("youtube-audio");if(ytplay){ytplay.innerHTML='<div id="youtube-player"></div>',ytplay.style.cssText="visibility:hidden;display:none;",ytplay.onclick=toggleAudio;var videoID=extractVideoID(ytplay.dataset.video);videoID&&(player=new YT.Player("youtube-player",{height:"20",width:"20",videoId:videoID,playerVars:{autoplay:ytplay.dataset.autoplay||0,loop:ytplay.dataset.loop||0,start:startTime,end:stopTime,playsinline:1},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}}))}},$(document).on("click","#wds_audio_play .elementor-icon, #wds_audio_pause .elementor-icon",(function(){playerReady&&toggleAudio()})),$(document).on("click","#wds-button-cover, .wds-button-cover",(function(){playerReady&&(player.playVideo(),audioActive())})),document.addEventListener("visibilitychange",(function(){document.hidden?(player.pauseVideo(),audioInactive()):(player.playVideo(),audioActive())}))}}}(jQuery);